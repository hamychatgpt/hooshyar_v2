# معرفی پروژه سیستم رصد توییتر

## اطلاعات کلی
- **نام پروژه**: سیستم رصد و تحلیل محتوای توییتر
- **هدف**: پایش، جمع‌آوری، فیلتر، تحلیل و گزارش‌دهی محتوای توییتر بر اساس کلمات کلیدی
- **تاریخ شروع**: 10 مارس 2025
- **وضعیت فعلی**: در مرحله توسعه فاز 1 (زیرساخت پایه)

## تکنولوژی‌ها
- **زبان اصلی**: Python 3.10+
- **فریم‌ورک‌ها**: FastAPI 0.95.0+, Bootstrap 5.3.0+
- **پایگاه داده**: SQLite 3 (با قابلیت ارتقا به PostgreSQL)
- **کتابخانه‌های اصلی**: 
  - HTTPX 0.24.0+ (برای درخواست‌های HTTP ناهمگام)
  - Jinja2 3.1.2+ (موتور قالب)
  - SQLAlchemy 2.0.0+ (ORM)
  - Pydantic 2.0.0+ (اعتبارسنجی داده)
  - Uvicorn 0.22.0+ (ASGI Server)
  - Chart.js 4.2.0+ (نمودارها)

## ساختار پروژه
```
twitter-monitor/
  ├── core/                       # هسته اصلی سیستم
  │   ├── app.py                  # اپلیکیشن اصلی
  │   ├── plugin_manager.py       # مدیریت پلاگین‌ها
  │   ├── event_manager.py        # سیستم رویداد
  │   ├── db.py                   # مدیریت دیتابیس
  │   └── config.py               # تنظیمات اصلی
  ├── models/                     # مدل‌های داده
  │   ├── base.py                 # مدل پایه
  │   ├── keyword.py              # مدل کلمه کلیدی
  │   ├── tweet.py                # مدل توییت
  │   └── user.py                 # مدل کاربر
  ├── plugins/                    # پلاگین‌ها
  │   ├── base_plugin.py          # کلاس پایه پلاگین
  │   ├── collector/              # جمع‌آوری توییت
  │   ├── filter/                 # فیلتر محتوا
  │   └── dashboard/              # داشبورد مدیریت
  ├── migrations/                 # اسکریپت‌های پایگاه داده
  ├── static/                     # فایل‌های استاتیک
  ├── templates/                  # قالب‌های HTML
  ├── utils/                      # توابع کمکی
  ├── tests/                      # تست‌ها
  ├── main.py                     # نقطه ورود اصلی
  └── config.ini                  # فایل تنظیمات
```

## معماری کلی
- **معماری پلاگین محور**: سیستم از یک هسته مرکزی با پلاگین‌های قابل افزودن تشکیل شده است
- **سیستم رویداد**: ارتباط بین پلاگین‌ها از طریق مکانیزم انتشار/اشتراک رویداد انجام می‌شود
- **جریان داده**: توییت‌ها از API توییتر جمع‌آوری، فیلتر، تحلیل و ذخیره می‌شوند
- **الگوهای طراحی**: Observer (برای سیستم رویداد)، Strategy (برای فیلترها)، Repository (برای دسترسی به داده)
- **استفاده از تکنیک‌های Async/Await** برای بهبود کارایی

## وضعیت توسعه
- **مرحله فعلی**: توسعه فاز 1 (زیرساخت پایه)
- **آخرین بروزرسانی**: 15 مارس 2025

### ماژول‌ها و قابلیت‌ها
- ✅ **هسته پلاگین محور**: سیستم مدیریت پلاگین و رویداد - 15 مارس 2025
- ✅ **طراحی دیتابیس**: ساختار کامل جداول و روابط - 12 مارس 2025
- 🔄 **پلاگین جمع‌آوری**: ارتباط با Twitter API - 80% تکمیل
- 🔄 **پلاگین فیلتر**: قواعد فیلتر اولیه - 70% تکمیل
- 🔄 **داشبورد مدیریت**: رابط کاربری مدیریتی - 60% تکمیل
- 📋 **پلاگین تحلیل**: استخراج موجودیت‌ها و تحلیل محتوا - برنامه فاز 2
- 📋 **اتصال به Claude API**: تحلیل‌های هوشمند با هوش مصنوعی - برنامه فاز 3
- 📋 **سیستم گزارش‌دهی**: گزارش‌های تحلیلی روزانه و هفتگی - برنامه فاز 3-4

### چالش‌های فعلی
- **مدیریت محدودیت‌های API توییتر**: بهینه‌سازی استفاده از API با توجه به محدودیت‌های نرخ درخواست
- **طراحی الگوریتم‌های فیلترینگ**: بهبود دقت تشخیص محتوای نامناسب و اسپم
- **بهینه‌سازی SQLite**: مدیریت رشد داده‌ها و عملکرد پایگاه داده در طول زمان

## نکات پیاده‌سازی
- **پلاگین‌نویسی**: هر پلاگین باید BasePlugin را پیاده‌سازی کند و متدهای initialize و shutdown را تعریف کند
- **مدیریت خطا**: تمام درخواست‌های API باید با مکانیزم تلاش مجدد و مدیریت زمان انتظار همراه باشند
- **مقیاس‌پذیری**: طراحی باید امکان مهاجرت آسان به PostgreSQL را فراهم کند
- **امنیت کلیدهای API**: کلیدهای API در فایل .env ذخیره و از Git مستثنی شوند
- **استفاده از async/await**: تمام عملیات I/O باید با استفاده از پارادایم ناهمگام پیاده‌سازی شوند
- **ثبت لاگ مناسب**: لاگ‌ها با سطوح مختلف اهمیت برای عیب‌یابی آسان‌تر ثبت شوند